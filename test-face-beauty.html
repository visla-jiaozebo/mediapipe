<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face Beauty System Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .status.success { background: #d4edda; color: #155724; }
        .status.error { background: #f8d7da; color: #721c24; }
        .status.warning { background: #fff3cd; color: #856404; }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover { background: #0056b3; }
        .code-block {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            white-space: pre-wrap;
        }
        .feature-list {
            list-style-type: none;
            padding: 0;
        }
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        .feature-list li:before {
            content: "âœ“ ";
            color: #28a745;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ­ Face Beauty System - æµ‹è¯•é¡µé¢</h1>
        <p>è¿™ä¸ªé¡µé¢ç”¨äºæµ‹è¯•å’ŒéªŒè¯äººè„¸ç¾é¢œç³»ç»Ÿçš„å„é¡¹åŠŸèƒ½ã€‚</p>

        <div class="test-section">
            <h2>ğŸ”§ ç³»ç»ŸçŠ¶æ€æ£€æŸ¥</h2>
            <button class="test-button" onclick="checkSystemStatus()">æ£€æŸ¥ç³»ç»ŸçŠ¶æ€</button>
            <div id="systemStatus"></div>
        </div>

        <div class="test-section">
            <h2>ğŸ¯ åŠŸèƒ½ç‰¹æ€§</h2>
            <h3>å·²å®ç°çš„åŠŸèƒ½ï¼š</h3>
            <ul class="feature-list">
                <li>åŸºäºMediaPipeçš„468ä¸ªäººè„¸å…³é”®ç‚¹æ£€æµ‹</li>
                <li>ç²¾ç¡®çš„çš®è‚¤åŒºåŸŸè¯†åˆ«ï¼ˆæ’é™¤çœ¼éƒ¨ã€å˜´å”‡ã€çœ‰æ¯›ï¼‰</li>
                <li>çš®è‚¤ç£¨çš®å’Œç¾ç™½æ•ˆæœ</li>
                <li>å¤§çœ¼æ•ˆæœï¼ˆåŸºäºç³å­”ä¸­å¿ƒçš„å¾„å‘å˜æ¢ï¼‰</li>
                <li>ç˜¦è„¸æ•ˆæœï¼ˆåŸºäºé¢éƒ¨è½®å»“çš„å†…å‘å‹ç¼©ï¼‰</li>
                <li>å®æ—¶å‚æ•°è°ƒèŠ‚ï¼ˆ10ä¸ªå¯è°ƒå‚æ•°ï¼‰</li>
                <li>åŸå›¾ä¸å¤„ç†ç»“æœå¯¹æ¯”æ˜¾ç¤º</li>
                <li>å†…å­˜ç®¡ç†å’Œé”™è¯¯å¤„ç†</li>
            </ul>

            <h3>æŠ€æœ¯æ¶æ„ï¼š</h3>
            <ul class="feature-list">
                <li>MediaPipe FaceMesh v1.0+ (äººè„¸æ£€æµ‹)</li>
                <li>OpenCV.js v4.x (å›¾åƒå¤„ç†)</li>
                <li>HTML5 Canvas (å›¾åƒæ˜¾ç¤º)</li>
                <li>ç°ä»£CSS Gridå¸ƒå±€</li>
                <li>å“åº”å¼UIè®¾è®¡</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>ğŸ“‹ æµ‹è¯•è¯´æ˜</h2>
            <ol>
                <li><strong>å¯åŠ¨ç³»ç»Ÿï¼š</strong> è®¿é—® <a href="http://localhost:8080" target="_blank">http://localhost:8080</a></li>
                <li><strong>ä¸Šä¼ å›¾ç‰‡ï¼š</strong> ç‚¹å‡»ä¸Šä¼ åŒºåŸŸæˆ–æ‹–æ‹½åŒ…å«äººè„¸çš„å›¾ç‰‡</li>
                <li><strong>è°ƒèŠ‚å‚æ•°ï¼š</strong> ä½¿ç”¨å³ä¾§æ§åˆ¶é¢æ¿è°ƒèŠ‚ç¾é¢œæ•ˆæœ</li>
                <li><strong>è§‚å¯Ÿæ•ˆæœï¼š</strong> å·¦ä¾§æ˜¾ç¤ºåŸå›¾ï¼Œå³ä¾§æ˜¾ç¤ºç¾é¢œåçš„æ•ˆæœ</li>
                <li><strong>ä¿å­˜ç»“æœï¼š</strong> ç‚¹å‡»"ä¸‹è½½ç»“æœ"æŒ‰é’®ä¿å­˜å¤„ç†åçš„å›¾ç‰‡</li>
            </ol>

            <h3>æ¨èæµ‹è¯•å›¾ç‰‡ç±»å‹ï¼š</h3>
            <ul>
                <li>âœ… å•äººæ­£é¢ç…§ç‰‡</li>
                <li>âœ… æ¸…æ™°çš„äººè„¸ç‰¹å¾</li>
                <li>âœ… è‰¯å¥½çš„å…‰ç…§æ¡ä»¶</li>
                <li>âœ… JPG/PNGæ ¼å¼ï¼Œåˆ†è¾¨ç‡é€‚ä¸­ï¼ˆ500-2000pxï¼‰</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>âš™ï¸ å‚æ•°è¯´æ˜</h2>
            
            <h3>çš®è‚¤ç¾åŒ–å‚æ•°ï¼š</h3>
            <div class="code-block">â€¢ ç£¨çš®å¼ºåº¦ (0-100): ä½¿ç”¨åŒè¾¹æ»¤æ³¢å¹³æ»‘çš®è‚¤çº¹ç†
â€¢ ç¾ç™½ç¨‹åº¦ (0-100): æå‡çš®è‚¤åŒºåŸŸäº®åº¦
â€¢ çº¢æ¶¦åº¦ (0-100): å¢å¼ºçš®è‚¤çº¢è‰²é€šé“
â€¢ å¯¹æ¯”åº¦ (0-100): è°ƒæ•´æ•´ä½“å¯¹æ¯”åº¦</div>

            <h3>é¢éƒ¨å¡‘å½¢å‚æ•°ï¼š</h3>
            <div class="code-block">â€¢ å¤§çœ¼å¼ºåº¦ (0-100): åŸºäºç³å­”ä¸­å¿ƒçš„å¾„å‘æ”¾å¤§
â€¢ ç˜¦è„¸å¼ºåº¦ (0-100): é¢éƒ¨è½®å»“å‘å†…å‹ç¼©å˜å½¢</div>

            <h3>å…¨å±€è°ƒæ•´å‚æ•°ï¼š</h3>
            <div class="code-block">â€¢ æ•´ä½“äº®åº¦ (0-100): å…¨å›¾äº®åº¦è°ƒèŠ‚
â€¢ é¥±å’Œåº¦ (0-100): é¢œè‰²é¥±å’Œåº¦å¢å¼º
â€¢ æ¸…æ™°åº¦ (0-100): å›¾åƒé”åŒ–å¤„ç†
â€¢ æš–è‰²è°ƒ (0-100): è‰²æ¸©è°ƒæ•´</div>
        </div>

        <div class="test-section">
            <h2>ğŸš€ å¿«é€Ÿå¯åŠ¨</h2>
            <button class="test-button" onclick="openMainApp()">æ‰“å¼€ç¾é¢œåº”ç”¨</button>
            <button class="test-button" onclick="showTechnicalDoc()">æŸ¥çœ‹æŠ€æœ¯æ–‡æ¡£</button>
            <button class="test-button" onclick="generateTestImage()">ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹</button>
        </div>

        <div class="test-section">
            <h2>ğŸ› æ•…éšœæ’é™¤</h2>
            <h3>å¸¸è§é—®é¢˜ï¼š</h3>
            <ul>
                <li><strong>é¡µé¢æ— æ³•åŠ è½½ï¼š</strong> ç¡®ä¿PythonæœåŠ¡å™¨åœ¨ç«¯å£8080è¿è¡Œ</li>
                <li><strong>å›¾ç‰‡æ— æ³•å¤„ç†ï¼š</strong> æ£€æŸ¥å›¾ç‰‡æ˜¯å¦åŒ…å«æ¸…æ™°çš„äººè„¸</li>
                <li><strong>æ•ˆæœä¸æ˜æ˜¾ï¼š</strong> é€‚å½“è°ƒé«˜å‚æ•°æ•°å€¼ï¼ˆå»ºè®®ä»30-50å¼€å§‹ï¼‰</li>
                <li><strong>å¤„ç†é€Ÿåº¦æ…¢ï¼š</strong> å°è¯•ä½¿ç”¨è¾ƒå°åˆ†è¾¨ç‡çš„å›¾ç‰‡</li>
            </ul>
            
            <div id="troubleshooting"></div>
        </div>
    </div>

    <script>
        function checkSystemStatus() {
            const statusDiv = document.getElementById('systemStatus');
            statusDiv.innerHTML = '<div class="status warning">æ­£åœ¨æ£€æŸ¥ç³»ç»ŸçŠ¶æ€...</div>';
            
            // æ£€æŸ¥æœåŠ¡å™¨è¿æ¥
            fetch('http://localhost:8080/')
                .then(response => {
                    if (response.ok) {
                        statusDiv.innerHTML = `
                            <div class="status success">âœ… æœåŠ¡å™¨è¿æ¥æ­£å¸¸ (ç«¯å£8080)</div>
                            <div class="status success">âœ… HTTPæœåŠ¡å™¨è¿è¡Œä¸­</div>
                            <div class="status success">âœ… ä¸»åº”ç”¨é¡µé¢å¯è®¿é—®</div>
                        `;
                    } else {
                        throw new Error('æœåŠ¡å™¨å“åº”å¼‚å¸¸');
                    }
                })
                .catch(error => {
                    statusDiv.innerHTML = `
                        <div class="status error">âŒ æœåŠ¡å™¨è¿æ¥å¤±è´¥</div>
                        <div class="status warning">è¯·ç¡®ä¿è¿è¡Œ: python -m http.server 8080</div>
                    `;
                });
        }

        function openMainApp() {
            window.open('http://localhost:8080', '_blank');
        }

        function showTechnicalDoc() {
            window.open('http://localhost:8080/TECHNICAL_DOC.md', '_blank');
        }

        function generateTestImage() {
            window.open('http://localhost:8080/test-generator.html', '_blank');
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æŸ¥çŠ¶æ€
        window.onload = function() {
            checkSystemStatus();
        };
    </script>
</body>
</html>
